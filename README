Dependencies: linefit-0.0.1.gem,  peak_finder-1.0.1.gem,  peak_integration-1.0.0.gem



peak_main.rb: Finds peaks in peak simple files generated from a chromatograph (N20 and CH4)

Note: Negative mV values are ignored by peak finder

A ruby program that accepts two options: 1) Database processing 2) manual Peak Simple file processing

1-five command line arguments; <db name> <db username> <db password> <run_id> <Pos.tolerance size>

(default tolerance is 100 mV) 2nd argument is optional

This program finds the peaks within each injection period (for both n2o and ch4) in a run and calculates their areas. It then updates

the injections table with the area and its peak_start and peak_end times.  

2-two command line arguments; <peak simple filename> <Pos.tolerance size> 

(default tolerance is 100 mV) 6th argument is optional

If the file is valid it uses the peak_finder gem to find the peaks, and extract the start/end times and the volt measures

that are used by the peak_integration gem to find the area of the peaks discovered. 

The main class then outputs a comma seperated text file with the Start, End, and Area in a file named millivolt.txt

or processes all the injections for one run.

This program can process Peak Simple files with or without timestamps included as columns.


sample_concentration.rb: This program calculates the sample concentration for a Run.

three command line arguments; <db name> <db username> <db password> <run_id>
This program calculates the sample concentrations for n2o, ch4, and co2 gases for a selected run.
It then updates the injections table (or in the case of co2 the licor_samples table) with those values.
Note: if no area is contained for an injection in a run, it is skipped over and no ppm is entered for that injection.


flux.rb: This program calculates the Flux (ppm/minute) of a gas in a given chamber over time.

three command line arguments; <db name> <db username> <db password>
The data is then entered into the incubations datatable.



Nate DiPiazza
ndipiazza@wisc.edu
GLBRC
